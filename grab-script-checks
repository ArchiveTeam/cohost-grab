format 0

[[]]
not regex .*view-source:.*
not discoveredregex .*iframe\\.?ly.*
successful

[user:sanqui]
some exact https://cohost.org/sanqui
some exact https://staging.cohostcdn.org/header/44212-ce22451d-922d-4dfa-8c4d-74cd8ae99b53-profile.png
some exact https://staging.cohostcdn.org/avatar/44212-f0523470-dd28-4357-9cb9-91b51ce26a66-profile.png?dpr=2&width=80&height=80&fit=cover&auto=webp # TODO assert that images like this always have height and width asserted as 80 - as they are gotten as such for users not the current (even when downscaled client-side)
some exact https://cohost.org/sanqui?page=0
not exact https://cohost.org/sanqui?page=1

# Unclear purpose
some exact https://cohost.org/api/v1/trpc/users.displayPrefs,subscriptions.hasActiveSubscription,login.loggedIn,projects.followingState,posts.profilePosts,projects.isReaderMuting,projects.isReaderBlocking?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%7D
# TODO check if this is for any page but 0

some exact https://cohost.org/api/v1/trpc/posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D

# Useless to us (possibly to check if a login has happened in another tab?), but required for playback
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D

some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D


# XHR that gets requested on a post
some exact https://cohost.org/api/v1/trpc/users.displayPrefs,subscriptions.hasActiveSubscription,login.loggedIn,projects.followingState,posts.singlePost,projects.isReaderMuting,projects.isReaderBlocking?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22handle%22%3A%22sanqui%22%2C%22postId%22%3A1697007%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%7D
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.singlePost?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22handle%22%3A%22sanqui%22%2C%22postId%22%3A1697007%7D%7D

# Site logos
not exact https://cohost.org/static/7ec6f0f3aef87d734f9b.png
not exact https://cohost.org/static/3c154cde88b7ed1ca92a.png

# Post which is purely a repost of another; may eliminate these if we are pressured
# N.b. the tags and first user discovered (the original poster) are still discernable from the main blog page
some exact https://cohost.org/sanqui/post/7345235-empty
some discovered tag:pok%c3%a9mon%20diamond%20but%20not%20the%20one%20from%20game%20freak
some discovered user:telefang
some discovered user:Maverynthia
some discovered https://sanqui.net/etc/telefang_screenshots.png # Post was from another user (despite the domain name) but we can pipe it to #// even though that means a bit of duplication over there

# Another image not posted by this user (not external domain)
# Disabled because we are getting these now because I'm not 100% confident the repost detection won't give false positives
# not regex ^https?://staging\.cohostcdn\.org/attachment/08dfeaa1-9a85-4679-b2f7-744d4609fd92/sanqui\.jpg.*

some discovered usertag:sanqui/english%20translation%20patch
not exact https://cohost.org/sanqui/tagged/english%20translation%20patch
some exact https://cohost.org/sanqui/post/6020724-owl-and-a-crt
not exact https://cohost.org/sanqui/tagged/look%20at%20me%20practicing%20POSSE
some discovered usertag:sanqui/look%20at%20me%20practicing%20POSSE
some discovered tag:look%20at%20me%20practicing%20POSSE

# Ask
some exact https://cohost.org/sanqui/post/2210422-ovo

# Image that was posted by this user
some exact https://staging.cohostcdn.org/attachment/4a953630-0e22-401a-aecc-ef5004bdf248/onix_border_8x_wide.png?width=675&auto=webp&dpr=1
some exact https://staging.cohostcdn.org/attachment/4a953630-0e22-401a-aecc-ef5004bdf248/onix_border_8x_wide.png?width=675&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/4a953630-0e22-401a-aecc-ef5004bdf248/onix_border_8x_wide.png?width=675&auto=webp&dpr=3
some exact https://staging.cohostcdn.org/attachment/4a953630-0e22-401a-aecc-ef5004bdf248/onix_border_8x_wide.png

# External image embedded in post
some exact https://sanqui.net/etc/ocean-journey-3d.jpg

# External URL
some discovered https://www.digimindsoft.com/Ocean-Journey-3D-Screensaver-57.html
# And in profile
some discovered https://sanqui.net/

# User only mentioned with "@" in profile
some discovered user:tcrf

# Subdomain
some exact https://sanqui.cohost.org/
some exact https://sanqui.cohost.org/?page=0
# some exact https://sanqui.cohost.org/?page=1&hideReplies=true&hideAsks=true Disabled because there are *none* of these, subdomain or not, in cdx
some exact https://sanqui.cohost.org/static/client.9de493d3ba74abc6eacb.css
some regex ^https://sanqui\.cohost\.org/static/runtime\.[a-f0-9]+\.js$
some regex ^https://sanqui\.cohost\.org/static/client\.[a-f0-9]+\.js$
some exact https://sanqui.cohost.org/static/8196.9488211cfaad004027c2.js
some exact https://sanqui.cohost.org/static/client-preact-components-pages-project-page-view.63cef228fcf81849ae53.js
some exact https://sanqui.cohost.org/static/7c05f33b4fe5f8132439.woff2
some exact https://sanqui.cohost.org/static/b07ad0e0d01ba4d56c1a.woff2
some exact https://sanqui.cohost.org/static/1d032f03e8c1619c1840.woff
some exact https://sanqui.cohost.org/static/4860.328a8b56d19750b075f1.js
some exact https://sanqui.cohost.org/static/160a2de1e18bbfbce0d6.woff2
# TODO not suer if I got all of these

# And why not
some exact https://cohost.org/sanqui/rss/public.json
some exact https://cohost.org/sanqui/rss/public.atom

# Original image
some exact https://staging.cohostcdn.org/attachment/4a953630-0e22-401a-aecc-ef5004bdf248/onix_border_8x_wide.png

some discovered user:sanqui+1

[user:sanqui+1]
some exact https://sanqui.cohost.org/?page=1

some exact https://cohost.org/api/v1/trpc/posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A1%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A1%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/users.displayPrefs,posts.profilePosts?batch=1&input=%7B%221%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A1%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D

some exact https://cohost.org/api/v1/trpc/posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A1%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22sanqui%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22sanqui%22%2C%22page%22%3A1%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D


# Ambivalent to whether we get subdomain resources
some exact https://cohost.org/sanqui?page=1


[user:Foxhack]
some discovered user:Foxhack+1
not discovered user:Foxhack+2 # As this should only be discovered by +1
some exact https://staging.cohostcdn.org/attachment/619763b8-1412-498e-a7f4-9e9a4ddd0b06/ded2.gif # From page 0
some exact https://cohost.org/Foxhack/post/7803706-screaming-into-the-v
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.singlePost?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%226%22%3A%7B%22handle%22%3A%22Foxhack%22%2C%22postId%22%3A7803664%7D%7D
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D


[user:Foxhack+2]
some exact https://cohost.org/Foxhack?page=2
# Image on this page but is a pure repost
# Disabled - the + items get the HTML page before the API request, which means they do a DCP before pure_repost_posts is potentially set
# This technically leads to duplication but seeing as we have 6k items left I can't be bothered, few GiB at most and that's probably an overestimate
# not exact https://staging.cohostcdn.org/attachment/17a2d496-3eef-41b7-a26f-1c52983452ae/image.png?width=675&auto=webp&dpr=2
# And back to normal
some exact https://staging.cohostcdn.org/attachment/4bc5f4a7-ac1f-4788-86b8-b1a7fc33ba48/image.png
some discovered https://www.theverge.com/2024/8/12/24219016/valve-deadlock-hands-on-secret-new-game
some exact https://cohost.org/Foxhack/post/7246433-you-know
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.singlePost?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%226%22%3A%7B%22handle%22%3A%22Foxhack%22%2C%22postId%22%3A7246433%7D%7D
some exact https://cohost.org/api/v1/trpc/posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%2C%22page%22%3A2%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://staging.cohostcdn.org/attachment/9ad303fb-8200-47cd-bf44-19c3e8ac36e1/image.png?width=675&auto=webp&dpr=2
some discovered usertag:Foxhack/video%20game%20ad
some discovered tag:video%20game%20ad

[user:Foxhack+17]
some exact https://cohost.org/Foxhack?page=17
some exact https://cohost.org/Foxhack/post/658013-so-how-does-this-pla
some exact https://foxhack.cohost.org/?page=17
some discovered user:Foxhack+18

[user:Foxhack+18]
some exact https://cohost.org/Foxhack?page=18
not regex .*/post/.*
not discoveredregex ^user:Foxhack\\+.*

[usertag:luckyplushy/my%20art]
some regex ^https://cohost\\.org/luckyplushy/tagged/my%20art\\?refTimestamp=17\\d+&skipPosts=20
some regex ^https://cohost\\.org/luckyplushy/tagged/my%20art\\?refTimestamp=17\\d+&skipPosts=60
not exact https://staging.cohostcdn.org/attachment/1dcb6916-b7de-4f2e-8702-1c8d55b9a228/20231115_160048.jpg?width=675&auto=webp&dpr=1


# User with no posts
[user:digitaldragons]
some exact https://cohost.org/digitaldragons
some exact https://digitaldragons.cohost.org/
some exact https://cohost.org/digitaldragons?page=0
some exact https://digitaldragons.cohost.org/?page=0
not exact https://cohost.org/digitaldragons?page=1 # Especially as these go on forever
some exact https://cohost.org/api/v1/trpc/login.loggedIn,users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%223%22%3A%7B%22projectHandle%22%3A%22digitaldragons%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22digitaldragons%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22digitaldragons%22%7D%2C%226%22%3A%7B%22projectHandle%22%3A%22digitaldragons%22%2C%22page%22%3A0%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
not discovered user:digitaldragons+1

# User with embeds
[user:sixlegendsgame]
not exact https://iframely.net/api/thumbnail?url=https%3A%2F%2Fyoutu.be%2FL0AGUYXU0ag&key=db0b365a626eb72ce8c169cd30f99ac2&maxwidth=960 # Shows when you allow the Youtube URL, but before playing
not discovered https://youtu.be/L0AGUYXU0ag

not exact https://iframely.net/api/thumbnail?url=https%3A%2F%2Fstore.steampowered.com%2Fapp%2F2768130%2F&key=db0b365a626eb72ce8c169cd30f99ac2&maxwidth=960
not discovered https://store.steampowered.com/app/2768130/
not exact https://cdn.iframe.ly/api/iframely?url=https%3a%2f%2fstore%2esteampowered%2ecom%2fapp%2f2768130%2f&key=db0b365a626eb72ce8c169cd30f99ac2&iframe=1&omit_script=1 # This is escaped as the script does it rather than the browser
not exact https://iframely.net/api/iframe?app=1&url=https%3A%2F%2Fstore.steampowered.com%2Fapp%2F2768130%2F&key=db0b365a626eb72ce8c169cd30f99ac2


not exact https://staging.cohostcdn.org/attachment/ed35dcd5-1dca-4f58-b5a5-19e790149329/davinci.png?width=337&height=197&fit=crop&auto=webp&dpr=1
not exact https://staging.cohostcdn.org/attachment/2083ef06-b9ba-422f-80cf-2639cfeed009/Steam.jpg?width=337&height=197&fit=crop&auto=webp&dpr=1
not exact https://staging.cohostcdn.org/attachment/76d8ccfb-d793-4a8a-a934-954a25bd99f9/Final%20Cutscene%20Climax.png?width=337&height=245&fit=crop&auto=webp&dpr=1
not exact https://staging.cohostcdn.org/attachment/1f240eb2-370c-4b26-a056-f10dff54cc72/dragondancelunarnewyear.png
some discovered user:sixlegendsgame+1

[user:sixlegendsgame+1]
some exact https://iframely.net/api/thumbnail?url=https%3A%2F%2Fyoutu.be%2FL0AGUYXU0ag&key=db0b365a626eb72ce8c169cd30f99ac2&maxwidth=960 # Shows when you allow the Youtube URL, but before playing
some discovered https://youtu.be/L0AGUYXU0ag
some discovered user:sixlegendsgame+2

# Not going to get the actual Youtube content - if we want to do that, #// can handle it
# Second embed (same post)
some exact https://iframely.net/api/thumbnail?url=https%3A%2F%2Fstore.steampowered.com%2Fapp%2F2768130%2F&key=db0b365a626eb72ce8c169cd30f99ac2&maxwidth=960
some discovered https://store.steampowered.com/app/2768130/
some exact https://cdn.iframe.ly/api/iframely?url=https%3a%2f%2fstore%2esteampowered%2ecom%2fapp%2f2768130%2f&key=db0b365a626eb72ce8c169cd30f99ac2&iframe=1&omit_script=1 # This is escaped as the script does it rather than the browser
some exact https://iframely.net/api/iframe?app=1&url=https%3A%2F%2Fstore.steampowered.com%2Fapp%2F2768130%2F&key=db0b365a626eb72ce8c169cd30f99ac2

# Half-height images
some exact https://staging.cohostcdn.org/attachment/ed35dcd5-1dca-4f58-b5a5-19e790149329/davinci.png?width=337&height=197&fit=crop&auto=webp&dpr=1
# N.b. the ones below this might be from +1, I haven't checked them
some exact https://staging.cohostcdn.org/attachment/2083ef06-b9ba-422f-80cf-2639cfeed009/Steam.jpg?width=337&height=197&fit=crop&auto=webp&dpr=1
some exact https://staging.cohostcdn.org/attachment/76d8ccfb-d793-4a8a-a934-954a25bd99f9/Final%20Cutscene%20Climax.png?width=337&height=245&fit=crop&auto=webp&dpr=1
# And a full image, just to make sure
some exact https://staging.cohostcdn.org/attachment/1f240eb2-370c-4b26-a056-f10dff54cc72/dragondancelunarnewyear.png




# Invalid user
[user:digitaldragon444]
some exact https://cohost.org/digitaldragon444
maxrequests 3

# User with noncanonical capitalization
[user:sanquI]
some discovered user:sanqui
maxrequests 400
not discovered user:sanquI+1
not discovered user:sanqui+1

# Someone who seems to have tried to break the tag system with punctuation
[user:this-page-will-break-do-not-repost]
some discovered usertag:this-page-will-break-do-not-repost/%3f
some discovered usertag:this-page-will-break-do-not-repost/%2f
not discovered usertag:this-page-will-break-do-not-repost/?
not discovered usertag:this-page-will-break-do-not-repost//
some discovered tag:%3f
some discovered tag:%2f
not discovered tag:?
not discovered tag:/

[usertag:this-page-will-break-do-not-repost/%3f]
some exact https://cohost.org/this-page-will-break-do-not-repost/tagged/%3f

[tag:%2f]
some exact https://cohost.org/rc/tagged/%2f
not discoveredregex tagext:.*

# Contains post with redirecting media URL in some meta tag
[user:tangledmacrame]
some exact https://cohost.org/api/v1/attachments/92f06b0e-faee-429c-8cf7-f5cc3e2d79e6
some exact https://staging.cohostcdn.org/attachment/92f06b0e-faee-429c-8cf7-f5cc3e2d79e6/BenBois-Vinyl-records.svg

# Post that 404s even though it's listed on a tag page
[post:LeminWedj/post/4049956-no-discrimination]
some exact https://cohost.org/LeminWedj/post/4049956-no-discrimination

# Finally an instance of forceAttachmentsToTop with rows
# The important thing seems to be that it's *all* rows so the block that would do the redundant rendering doesn't happen
[post:scatterbrain/post/4218817-roundup-of-the-choic]
some exact https://proxy-staging.cohostcdn.org/Yxc5szOBZooBv03630ZDEXY7at37OVn0t3eowkP0cnw/f:png/czM6Ly9jb2hvc3QtcHJvZC9hdHRhY2htZW50LzM5ZjRiZWYwLWRjMDYtNDE3Zi1hODA3LWYyYzg2YjA5MDJhNC9mcm9nLXB1ZmYuZ2lm?width=337&height=337&fit=crop&auto=webp&dpr=2
some exact https://proxy-staging.cohostcdn.org/ulrb3ZUeO8B7lZVIlhVKk3Mkps4ImKFVUJBhiV4VBpA/f:png/czM6Ly9jb2hvc3QtcHJvZC9hdHRhY2htZW50L2RiNjY2MjIwLWMxNjEtNDYxMi04OThmLTUxNTc5NjYzM2JhOS9tb3VzZS1hbGVydC5naWY?width=337&height=337&fit=crop&auto=webp&dpr=2
some exact https://proxy-staging.cohostcdn.org/cVHBDFQI_CHeJj6l1kNfsUxY-9dw_lPqe4vxuFxGXdA/f:png/czM6Ly9jb2hvc3QtcHJvZC9hdHRhY2htZW50Lzg5MWQzZDg3LTk4YjctNGMyZS1hN2MyLTM2MWY1ZDI3NTVjZS9zY2lzc29yc2xpbWUtd2Fsay5naWY?width=337&height=337&fit=crop&auto=webp&dpr=2
some exact https://proxy-staging.cohostcdn.org/JZGJeyA-3QFjn9uHXlxT2__pqfau3cXX8B1iPeTcPF8/f:png/czM6Ly9jb2hvc3QtcHJvZC9hdHRhY2htZW50LzZhMWY1YTk4LWQ4OTAtNDE2Zi1iOTIwLTM0OTMyYjQ0MDBkZi9raW5ndG9hc3QuZ2lm?width=337&height=337&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/db666220-c161-4612-898f-515796633ba9/mouse-alert.gif?width=337&height=337&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/db666220-c161-4612-898f-515796633ba9/mouse-alert.gif
some exact https://staging.cohostcdn.org/attachment/39f4bef0-dc06-417f-a807-f2c86b0902a4/frog-puff.gif
some exact https://staging.cohostcdn.org/attachment/6a1f5a98-d890-416f-b920-34932b4400df/kingtoast.gif


# Account content hidden to logged-out users
[user:lazuliterecursion]
some exact https://cohost.org/lazuliterecursion/rss/public.json

# What it looks like
[user:sailorhannibal+4]
not regex .*base64.*

# Embed with no HTML (domain parking page)
[user:decispark+1]
some exact https://cdn.iframe.ly/api/iframely?url=https%3a%2f%2fabout%2elive%2espace%2fpost%2fthank%2dyou&key=db0b365a626eb72ce8c169cd30f99ac2&iframe=1&omit_script=1

# Bluesky handle with same name as user but diff capitalization - gets read in as a divergence of Cohost caps
[user:RunningDlog]
some exact https://iframely.net/api/iframe?app=1&url=https%3A%2F%2Fbsky.app%2Fprofile%2Frunningdlog.bsky.social&key=db0b365a626eb72ce8c169cd30f99ac2

# Miscapitalized version of private page, make sure the 403 on the rss feed is allowed even tho a lot of processing is being skipped
[user:ribbonBlack]
some exact https://cohost.org/RibbonBlack/rss/public.json

# More discussion of Cohost internals
# (I think in some future crawler it'd be nice to be able to pass a deliminator param to the extractor of "handle links extracted between element matching X and element matching Y differently", so they don't get seen as part of the UI etc)
[user:username]
not exact https://username.cohost.org/rss/public
some exact https://cohost.org/username/post/86054-my-first-post

# 10 attachments (and a remark that "wow they really let you go up to 10 now huh.")
[post:gadget/post/7868919-assorted-drawings-fr]
some exact https://staging.cohostcdn.org/attachment/23a4c5a2-00e7-4f69-8089-2c7517945965/2023-12-26_06-43-20-814_firefox_KLDB1Z7bjx.png?width=337&height=290&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/458b7f61-77fc-47ad-8e8d-e20ad5b36d5d/2024-04-02_02-45-36-334_firefox_lwsit2KCJo.png?width=337&height=290&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/a1b73bcd-6e4f-4df8-b100-52d352eb7d94/2024-01-21_09-11-18-784_CLIPStudioPaint_VK5xer38OW.png?width=337&height=388&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/c741fe71-052d-4d91-aa04-27f255ae6c9b/2024-02-10_06-02-47-129_CLIPStudioPaint_8jvIsdHuKL.png?width=337&height=388&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/91bf6f90-c965-49e8-abc2-fd8f6b594b37/2024-09-11_22-25-15-468_CLIPStudioPaint_aErN1lq2bE.png?width=337&height=341&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/96bce936-f9bf-4b68-8491-b02924e85d4a/2024-04-15_21-11-41-483_chrome_Awr6Wqvp47.png?width=337&height=341&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/d60252b5-b6ee-4945-b17f-9c7186f1cf76/2024-04-15_21-12-00-083_chrome_fPYblIx0YR.png?width=337&height=430&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/82057609-8ca5-4850-9452-e5cf23846d9e/2024-05-20_22-55-44-388_chrome_xgHB9XrPnW.png?width=337&height=430&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/2fc72d16-b3a6-40aa-9c5b-1c58fce84c12/2024-05-29_IMG_4531.jpg?width=337&height=253&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/cf4af3f6-0995-4e84-91c2-a0dffec10735/2024-06-26_IMG_4588.jpg?width=337&height=253&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/91bf6f90-c965-49e8-abc2-fd8f6b594b37/2024-09-11_22-25-15-468_CLIPStudioPaint_aErN1lq2bE.png
some exact https://staging.cohostcdn.org/attachment/a1b73bcd-6e4f-4df8-b100-52d352eb7d94/2024-01-21_09-11-18-784_CLIPStudioPaint_VK5xer38OW.png
some exact https://staging.cohostcdn.org/attachment/cf4af3f6-0995-4e84-91c2-a0dffec10735/2024-06-26_IMG_4588.jpg


# "Https" in URL results in an "a" tag having no href
[post:muffinlord/post/7932618-https-social-minim]
some exact https://cohost.org/api/v1/trpc/posts.singlePost?batch=1&input=%7B%220%22:%7B%22handle%22:%22muffinlord%22,%22postId%22:7932618%7D%7D # This is an URL used solely by the post: testing item
some exact https://cohost.org/muffinlord/post/7932618-https-social-minim

# Something DCP finds
# See also user:selectric+72
# Test no longer works because DCP no longer happens on ^post: but I don't care, these already take almost an hour to run and I am going to stop adding cases for minor ignores
#[post:squidcrusher/post/1776580-empty]
#some exact https://proxy-staging.cohostcdn.org/nOSLvsw_ljNMDjcO8HsWRGDs6hGYPw6_63z3eQ4GsdE/f:png/czM6Ly9yZWRjZW50LWRldi9hdHRhY2htZW50LzJjZWRjM2Y2LWVkOWYtNDBhYi1hNDBmLWUyMzZjOWFmYTQwYy9za3lib3guZ2lm?width=337&height=328&fit=crop&auto=webp&dpr=1

# "This post contains an invalid attachment!" - do not crash and queue the placeholder image to #//
[post:Enderleaf/post/6646030-wof-adopts]
some discovered https://cohost.org/static/edcc39b1702e4bd4b95e.svg
some discovered https://cohost.org/static/edcc39b1702e4bd4b95e.svg?width=675&auto=webp&dpr=1

# Link to a tag on a subdomain page within post body; additional test of queuing static resources to #//
[user:staff+6]
some exact https://staff.cohost.org/tagged/financials
some discovered usertag:staff/financials
not exact https://cohost.org/staff/tagged/financials
some discovered https://cohost.org/static/8196.9488211cfaad004027c2.js

# New API requests Dec 11
[user:squidcrusher+100]
some exact https://cohost.org/api/v1/trpc/projects.followingState,posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%2C%22page%22%3A100%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/projects.followingState,posts.profilePosts,projects.isReaderMuting,projects.isReaderBlocking?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%2C%22page%22%3A100%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%2C%222%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%223%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%7D
some exact https://cohost.org/api/v1/trpc/projects.isReaderMuting,projects.isReaderBlocking?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%7D
some exact https://cohost.org/api/v1/trpc/users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%222%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%223%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22squidcrusher%22%2C%22page%22%3A100%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D

# Add them in for previously-run users Dec 13
[userfix1:Foxhack]
some exact https://cohost.org/api/v1/trpc/projects.followingState,posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%2C%22page%22%3A5%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/users.displayPrefs,subscriptions.hasActiveSubscription,projects.isReaderMuting,projects.isReaderBlocking,projects.followingState,posts.profilePosts?batch=1&input=%7B%222%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%223%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%224%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%225%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%2C%22page%22%3A5%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Atrue%2C%22hideShares%22%3Afalse%2C%22hideAsks%22%3Atrue%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D
some exact https://cohost.org/api/v1/trpc/projects.isReaderMuting,projects.isReaderBlocking?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%7D
# Don't run wild with pages (of course, if this happens the tests will probably be running forever anyhow)
not exact https://cohost.org/api/v1/trpc/projects.followingState,posts.profilePosts?batch=1&input=%7B%220%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%7D%2C%221%22%3A%7B%22projectHandle%22%3A%22Foxhack%22%2C%22page%22%3A99%2C%22options%22%3A%7B%22pinnedPostsAtTop%22%3Atrue%2C%22hideReplies%22%3Afalse%2C%22hideShares%22%3Atrue%2C%22hideAsks%22%3Afalse%2C%22viewingOnProjectPage%22%3Atrue%7D%7D%7D

# Normalize capitalization
[userfix1:foxhack]
maxrequests 1
some discovered userfix1:Foxhack

# Img tag in ast without src
# Also weird trick with SVGs or CSS or something, so make sure that happens properly
[post:dekuuSkrb/post/7045364-a-href-https-ete]
some exact https://img.comicfury.com/comics/345/48053a1721154472b78254f925704599.png
some exact https://img.comicfury.com/comics/343/48053a1719911518b78254f1277194875.png


# Many images in lots of layouts
[post:ionchy/post/7859771-konica-minolta-vx-10]
some exact https://staging.cohostcdn.org/attachment/9816841a-9dfc-48b6-92c7-a9027e7e3cb3/75190009.JPG?width=337&height=508&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/ce788beb-bd51-427a-bd93-0fa705df96e7/75190010.JPG?width=337&height=508&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/abba2d1b-46ef-4162-bc17-9c49584296e5/75190011.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/55e59932-f2ce-410d-af11-2d0209168976/75190012.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/fcf7c517-99be-4a7a-9b00-e3135fde140f/75190013.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/a7330a82-2666-4f36-afab-5e393f0e05e8/75190014.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/586f3362-fac0-4c24-953e-5f4358c333d6/75190015.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/1491d04b-b827-4211-9118-d3261a29a0f8/75190016.JPG?width=337&height=508&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/51dddbae-e91f-4510-bd6d-be64ec2cbe03/75190017.JPG?width=337&height=508&fit=crop&auto=webp&dpr=2

# First part of the above, just for more examples
[post:ionchy/post/7858663-konica-minolta-vx-10]
some exact https://staging.cohostcdn.org/attachment/e259519f-80f8-405d-9b91-4a59de91b0e5/75190012.JPG?width=675&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/755d9b16-3fd1-4c90-b759-e717dc345079/75190001.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/91c46e56-11ad-47c3-a603-540d7392710a/75190002.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/add0bc80-fa4d-4b7e-8854-3acf9f63500b/75190003.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/690db7ca-6435-48a7-b214-f64df0378abb/75190004.JPG?width=337&height=223&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/01e9d45f-ee10-45a6-9707-ea0abf6f51d6/75190005.JPG?width=675&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/4445c708-ccdb-49e7-90f8-d8ca8bd5695b/75190006.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/a538868e-5fbc-4884-bd6a-961d13967c23/75190007.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2
some exact https://staging.cohostcdn.org/attachment/5b7042d7-fa23-4c5f-a9e3-9a7977223998/75190008.JPG?width=225&height=149&fit=crop&auto=webp&dpr=2

# Point at which I'm no longer individually excepting all the different iframely exceptions
[post:namelessWrench/post/591267-with-two-weeks-until]
some exact https://cdn.iframe.ly/api/iframely?url=https%3a%2f%2fwww%2eamazon%2eca%2fhz%2fwishlist%2fls%2f3703O9NWPZF5Q%3fref_%3dwl_share&key=db0b365a626eb72ce8c169cd30f99ac2&iframe=1&omit_script=1

# Bad API URL extracted because insane_url_extract resolves relative URLs to API addr
[post:polymath/post/888924-ok-so-i-ran-the-code]
not exact https://cohost.org/api/v1/trpc/words.json

# Completedness despite https://github.com/ArchiveTeam/wget-lua/issues/27
# A full check would check that this does not affect the URL queue (e.g., if it were deduplicating by normalized form, and whatever one got in first "won");
#  this does not happen, I have confirmed it by hand (by commenting out the section in DCP that always returns false on post:)
[post:wave/post/2216717-wait-you-re-telling]
some exact https://staging.cohostcdn.org/attachment/191913df-1c1a-48bd-9cc3-c03b6d8da687/lipp_guellebeha%2525CC%252588lter_zubehoer%5B1%5D.jpg?width=675&auto=webp&dpr=2

# Empty img src in ast
[post:MichelleDraws/post/6273624-img-src-https-64]
some exact https://64.media.tumblr.com/89e848ad713fc36c438168762f626d97/3baea8be4265db3b-dc/s1280x1920/27235e555163818abf3e0a01f1019f7ca1dd025b.pnj

# Empty href in ast
[post:MisutaaAsriel/post/1354711-had-an-interesting-d]
some exact https://cohost.org/MisutaaAsriel/post/1354711-had-an-interesting-d

# Suspended user
[user:TheWitchPrince]
some exact https://cohost.org/TheWitchPrince/rss/public.json

[tag:video%20game%20preservation]
some exact https://cohost.org/rc/tagged/video%20game%20preservation
some regex ^https?://cohost\\.org/rc/tagged/video%20game%20preservation\\?refTimestamp=17\\d+&skipPosts=40
some discovered user:kaceydotme
some discovered user:witchpixels
not discoveredregex tagext:50/17\\d+/video%20game%20preservation

[tag:furry]
some exact https://cohost.org/rc/tagged/furry
some regex ^https?://cohost\\.org/rc/tagged/furry\\?refTimestamp=17\\d+&skipPosts=40
some regex ^https?://cohost\\.org/rc/tagged/furry\\?refTimestamp=17\\d+&skipPosts=49
not regex ^https?://cohost\\.org/rc/tagged/furry\\?refTimestamp=17\\d+&skipPosts=\d{4}
some discoveredregex tagext:50/17\\d+/furry

[tag:furby]
some discoveredregex tagext:50/17\\d+/furby

[tagext:50/1731051700701/furby]
some discovered tagext:100/1731051700701/furby # As there is a "next" link on p 99

[tagext:100/1731051700701/furby]
not discoveredregex tagext:.*



# Single quote and explamation mark get pre-urldecoded by wget
[tag:We%27ll%20see%20if%20that%20helps%21%21]
some regex ^https?://cohost\\.org/.*
